<IfModule mod_ssl.c>
<VirtualHost *:443>
ServerAdmin webmaster@localhost
ServerName zglr.org
ServerAlias www.zglr.org
DocumentRoot /var/www/zglr.org/
DirectoryIndex index


# Force text/html for all files
<FilesMatch "\.*">
    ForceType text/html
</FilesMatch>

# Use default type for files that have an extension
<FilesMatch "\.[a-zA-Z0-9]{1,4}$">
    ForceType none
</FilesMatch>

<Directory "/var/www/zglr.org/s/">
    AuthType Basic
    AuthName "Restricted Content"
    AuthUserFile /etc/apache2/.htpasswd
    Require valid-user # alternatively, specify exact users
</Directory>

ErrorLog ${APACHE_LOG_DIR}/error.log
CustomLog ${APACHE_LOG_DIR}/access.log combined
SSLCertificateFile /etc/letsencrypt/live/zglr.org/fullchain.pem
SSLCertificateKeyFile /etc/letsencrypt/live/zglr.org/privkey.pem
Include /etc/letsencrypt/options-ssl-apache.conf
</VirtualHost>
</IfModule>
